"use strict";
/**
 * Copyright (c) Whales Corp.
 * All Rights Reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.storeStorageExtraInfo = exports.loadStorageExtraInfo = void 0;
function loadStorageExtraInfo(slice) {
    let header = slice.loadUint(3);
    if (header === 0) {
        return null;
    }
    if (header === 1) {
        return {
            dictHash: slice.loadUintBig(256),
        };
    }
    throw new Error(`Invalid storage extra info header: ${header}`);
}
exports.loadStorageExtraInfo = loadStorageExtraInfo;
function storeStorageExtraInfo(src) {
    return (builder) => {
        if (src === null || typeof src === 'undefined') {
            builder.storeUint(0, 3);
        }
        else {
            builder.storeUint(1, 3);
            builder.storeUint(src.dictHash, 256);
        }
    };
}
exports.storeStorageExtraInfo = storeStorageExtraInfo;
